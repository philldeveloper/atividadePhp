{% extends 'base.html.twig' %}

{% block title %}Transaction{% endblock %}

{% block body %}
    <h1>Transação Bancária</h1>

    <table class="table">
        <tbody>
            <tr>
                <th>Id</th>
                <td>{{ transaction.id }}</td>
            </tr>
            <tr>
                <th>Conta</th>
                <td><a class="nav-link p-0 fw-bold" href="{{ path('app_account_show', {'id': transaction.account.id}) }}">{{ transaction.account.number }}</a></td>
            </tr>
            <tr>
                <th>Agência</th>
                <td><a class="nav-link p-0 fw-bold" href="{{ path('app_agency_show', {'id': transaction.account.agency.id}) }}">{{ transaction.account.agency }}</a></td>
            </tr>
            <tr>
                <th>Banco</th>
                {% if is_granted('ROLE_SUPER_ADMIN') %}
                    <td><a class="nav-link p-0 fw-bold" href="{{ path('app_bank_show', {'id': transaction.account.agency.bank.id}) }}">{{ transaction.account.agency.bank }}</a></td>
                    {% else %}
                    <td>{{ transaction.account.agency.bank }}</td>
                {% endif %}
            </tr>
            <tr>
                <th>Operação</th>
                <td>{{ transaction.operation == 2 ? 'Depósito' : transaction.operation == 1 ? 'Saque' : 'Transferência' }}</td>
            </tr>
            <tr>
                <th>Valor Monetário</th>
                <td>{{ transaction.value|format_currency('BRL') }}</td>
            </tr>
            <tr>
                <th>Descrição</th>
                <td>{{ transaction.description }}</td>
            </tr>
            <tr>
                <th>Data</th>
                <td>{{ transaction.createdAt|date('d/m/Y g:i:s (A)', "America/Sao_Paulo") }}</td>
            </tr>
            <tr>
                <th>Criado por</th>
                {% if is_granted('ROLE_ADMIN') %}
                    <td><a class="nav-link p-0 fw-bold" href="{{ path('app_client_show', {'id': transaction.client.id}) }}">{{ transaction.client.name }}</a></td>
                    {% else %}
                    <td>{{ transaction.client.name }}</td>
                {% endif %}
            </tr>
        </tbody>
    </table>


    <div class="d-flex align-items-center justify-content-between py-3">
        <a class="btn btn-outline-dark" href="{{ path('app_transaction_index') }}">Voltar a Lista</a>
        {# <a class="btn btn-dark" href="{{ path('app_transaction_edit', {'id': transaction.id}) }}">Editar Transação</a> #}
    </div>


    {# <h2 class="border-bottom py-3 my-3">Ações</h2>
    {{ include('transaction/_delete_form.html.twig') }} #}
{% endblock %}
